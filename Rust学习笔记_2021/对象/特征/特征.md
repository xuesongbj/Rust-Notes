# 特征

特征(trait)是一种定义共享行为方式。类似接口，由函数、类型和常量组成，更允许默认实现。

* 隐式类型参数`Self`，实现此特征的类型。
* 以其它特征约束`Self`，以便在默认实现调用。
* 声明或定义`&self`、`&mut self`、`self`方法。

&nbsp;
* 声明或定义类型函数(`Self::function`)。
* 默认常量、类型和函数实现均可被覆盖。

&nbsp;

```
trait ToInt {
    const SEED: i32;                // 声明常量
    fn new(_: i32) -> Self;         // 声明类型函数
    fn to_int(&self) -> i32;        // 声明实例方法
}

/* ------------------------------------------------------- */

#[derive(Debug)]
struct Data {
    x: i32
}

impl ToInt for Data {
    const SEED: i32 = 100;          // 必须!!!

    fn new(x: i32) -> Self {
        Self{ x }
    }

    fn to_int(&self) -> i32 {
        Self::SEED + self.x
    }
}

fn main() {
    let d = Data::new(1);
    assert_eq!(d.to_int(), 101);
}
```

&nbsp;
&nbsp;

### 覆盖