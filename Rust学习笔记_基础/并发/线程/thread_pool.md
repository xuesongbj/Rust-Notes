# 线程池(ThreadPool)

多线程并发更常见的方式是使用线程池。线程虽然比进程轻量，但如果每次处理任务都要更新创建线程的话，就会导致线程过多，从而带来更多的创建和调度的开销。**采用线程池的方式，不仅可以实现对线程的复用，避免多次创建、销毁线程的开销，而且还能保证内核可以被充分利用。**

实现一个线程池需要考虑以下几点:

* **工作线程**：用于处理具体任务的线程。
* **线程池初始化**：通过设置参数指定线程池的初始化栈大小、名称、工作线程数等。
* **待处理任务的存储队列**：工作线程数是有限的，对于来不及处理的任务，需要暂时保存到一个队列中。
* **线程池管理**：管理线程池的任务数和工作线程的状态。比如，在没有空闲工作线程时，则需要等待，或者在需要时阻塞主线程等待所有任务执行完毕。