# 通用概念

## 虚拟内存空间

现代操作系统在保护模式下都采用虚拟内存管理技术。虚拟内存是一种对物理存储设备的统一抽象，其中物理存储设备包括物理内存、磁盘、寄存器、高速缓存等。统一抽象的好处是，方便同时运行多道程序，使得每个进程都有各自独立的进程地址空间，并且可以通过操作系统调度将外存当作内存来使用。

虚拟地址空间是线性空间，用户所接触到的地址都是虚拟地址，而不是真实的物理地址。利用这种虚拟地址不但能保护操作系统，让程序在各自的地址空间内操作内存，更重要的是，用户程序可以使用比物理内存更大的地址空间。虚拟地址空间被分为两部分：**用户空间和内核空间**，它们的比例是3:1。

![虚拟地址空间](./imgs/虚拟内存空间.png)

上图为虚拟内存示意图，栈空间向下(由高地址向低地址)增长，堆向上(由低地址向高地址)增长，这样设计为了更高效地利用内存。
